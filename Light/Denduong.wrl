#VRML V2.0 utf8
DEF	den
Transform {
	translation	0 0 0
	rotation 0 1 0 1.57
	children [
		DEF	tou
		TouchSensor	{
			enabled	TRUE
		}
		DEF	time TimeSensor	{
			enabled	FALSE
			cycleInterval 0.7
		}
		Transform {
			translation	0 0 0
			rotation 0 1 0 0
			children [
				Shape {
					appearance DEF skin Appearance {
						texture	ImageTexture {
							url	["E:\VRML\BTL ver 2\Image\kimloai.jpg"]
						}
					}
					geometry Extrusion {
						beginCap TRUE
						endCap TRUE
						crossSection [0.049836246	0.086696877
							0.045522202	0.089037796
							0.041098491	0.091164215
							0.03657577	0.093071011
							0.031964935	0.094753591
							0.027277094	0.096207901
							0.022523539	0.097430438
							0.017715724	0.098418256
							0.012865229	0.099168976
							0.007983742	0.09968079
							0.00308302	0.099952464
							-0.001825128	0.099983343
							-0.00672888	0.099773354
							-0.011616421	0.099323002
							-0.016475977	0.098633372
							-0.021295842	0.097706126
							-0.026064402	0.096543498
							-0.030770171	0.095148287
							-0.035401812	0.093523856
							-0.039948168	0.091674118
							-0.044398284	0.089603529
							-0.048741441	0.087317077
							-0.052967176	0.084820271
							-0.057065308	0.082119125
							-0.061025965	0.079220147
							-0.064839605	0.07613032
							-0.06849704	0.072857089
							-0.07198946	0.069408339
							-0.075308452	0.065792379
							-0.078446019	0.062017918
							-0.081394602	0.058094051
							-0.084147098	0.054030231
							-0.086696877	0.049836246
							-0.089037796	0.045522202
							-0.091164215	0.041098491
							-0.093071011	0.03657577
							-0.094753591	0.031964935
							-0.096207901	0.027277094
							-0.097430438	0.022523539
							-0.098418256	0.017715724
							-0.099168976	0.012865229
							-0.09968079	0.007983742
							-0.099952464	0.00308302
							-0.099983343	-0.001825128
							-0.099773354	-0.00672888
							-0.099323002	-0.011616421
							-0.098633372	-0.016475977
							-0.097706126	-0.021295842
							-0.096543498	-0.026064402
							-0.095148287	-0.030770171
							-0.093523856	-0.035401812
							-0.091674118	-0.039948168
							-0.089603529	-0.044398284
							-0.087317077	-0.048741441
							-0.084820271	-0.052967176
							-0.082119125	-0.057065308
							-0.079220147	-0.061025965
							-0.07613032	-0.064839605
							-0.072857089	-0.06849704
							-0.069408339	-0.07198946
							-0.065792379	-0.075308452
							-0.062017918	-0.078446019
							-0.058094051	-0.081394602
							-0.054030231	-0.084147098
							-0.049836246	-0.086696877
							-0.045522202	-0.089037796
							-0.041098491	-0.091164215
							-0.03657577	-0.093071011
							-0.031964935	-0.094753591
							-0.027277094	-0.096207901
							-0.022523539	-0.097430438
							-0.017715724	-0.098418256
							-0.012865229	-0.099168976
							-0.007983742	-0.09968079
							-0.00308302	-0.099952464
							0.001825128	-0.099983343
							0.00672888	-0.099773354
							0.011616421	-0.099323002
							0.016475977	-0.098633372
							0.021295842	-0.097706126
							0.026064402	-0.096543498
							0.030770171	-0.095148287
							0.035401812	-0.093523856
							0.039948168	-0.091674118
							0.044398284	-0.089603529
							0.048741441	-0.087317077
							0.052967176	-0.084820271
							0.057065308	-0.082119125
							0.061025965	-0.079220147
							0.064839605	-0.07613032
							0.06849704	-0.072857089
							0.07198946	-0.069408339
							0.075308452	-0.065792379
							0.078446019	-0.062017918
							0.081394602	-0.058094051
							0.084147098	-0.054030231
							0.086696877	-0.049836246
							0.089037796	-0.045522202
							0.091164215	-0.041098491
							0.093071011	-0.03657577
							0.094753591	-0.031964935
							0.096207901	-0.027277094
							0.097430438	-0.022523539
							0.098418256	-0.017715724
							0.099168976	-0.012865229
							0.09968079	-0.007983742
							0.099952464	-0.00308302
							0.099983343	0.001825128
							0.099773354	0.00672888
							0.099323002	0.011616421
							0.098633372	0.016475977
							0.097706126	0.021295842
							0.096543498	0.026064402
							0.095148287	0.030770171
							0.093523856	0.035401812
							0.091674118	0.039948168
							0.089603529	0.044398284
							0.087317077	0.048741441
							0.084820271	0.052967176
							0.082119125	0.057065308
							0.079220147	0.061025965
							0.07613032	0.064839605
							0.072857089	0.06849704
							0.069408339	0.07198946
							0.065792379	0.075308452
							0.062017918	0.078446019
							0.058094051	0.081394602
							0.054030231	0.084147098
							0.049836246	0.086696877
						]
						scale [2.5 2.5 1.5 1.5]
						solid FALSE
						spine [0 0 0, 0 15 0]
					}
				}
			]
		}

		Transform {
			translation	0 14.8 0.25
			rotation 1 0 0 1.57
			children [
				Shape {
					appearance USE skin
					geometry Cylinder {
						bottom TRUE
						height 0.5
						radius 0.05
						side TRUE
						top	TRUE
					}
				}
			]
		}
		Transform {
			translation	0 14.8 1
			rotation 0 0 1 0
			children [
				Shape {
					appearance USE skin
					geometry Box {
						size 0.5 0.1 1
					}
				}
			]
		}
		Transform {
			translation	0 14.75 1
			rotation 0 0 1 0
			children [
				Shape {
					appearance Appearance {
						material Material {
							diffuseColor .04 .47 .54
							specularColor .8 .8 .8
							emissiveColor .01 .12 .14
							ambientIntensity 0
							shininess .45
							transparency .408
						}
					}
					geometry Box {
						size 0.35 0.1 0.8
					}
				}
			]
		}
		Transform {
			translation	0 14.7 1
			rotation 0 0 1 0
			children [
				DEF	denduong
				SpotLight {
					ambientIntensity 0
					attenuation	1 0 0
					beamWidth 0.6
					color 1 1 0
					cutOffAngle	0.785398
					direction 0 -1 0
					intensity 2
					location 0 0 0
					on TRUE
					radius 50
				}
				
				DEF color ColorInterpolator {
					key	[0 1]
					keyValue [0 0 0,1 1 0]
				}
				DEF congtac Script {

					eventIn SFBool turnOn

					eventOut SFBool On

					eventOut SFBool Off

					field SFBool turn FALSE

					url "javascript:

					function turnOn(val)
					{

						if(val){

    						turn = !turn;

    						if(turn)

    						{    On= TRUE; Off=FALSE;  }

            				else

            				{  On=FALSE; Off=TRUE;  }

                		}

        			}

    				"

				}
			]
		}
	]
}
#Transform {
#	translation	0 0 5
#	rotation 0 0 1 0
#	children [
#		Shape {
#			appearance Appearance {
#				material Material {
#					diffuseColor .61 .61 .61
#					specularColor .77 .76 .76
#					ambientIntensity .14
#					shininess .9
#				}
#			}
#			geometry Box {
#				size 2 2 2
#			}
#		}
#	]
#}

ROUTE tou.isActive	TO congtac.turnOn
ROUTE congtac.On TO	denduong.on
ROUTE congtac.On TO	time.enabled
ROUTE time.fraction_changed	 TO	color.set_fraction
ROUTE color.value_changed TO denduong.color